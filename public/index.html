<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Drag & Drop</title>
    <link
      rel="icon"
      href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>👋</text></svg>"
    />
    <link href="/style.css" rel="stylesheet" />
  </head>

  <body>
    <app-board>
      <app-lane title="⛏️ To Do">
        <app-task>Ignore the haters 👊</app-task>
        <app-task>Post dank memes 🫡</app-task>
      </app-lane>

      <app-lane title="⏳ In Progress">
        <app-task>Code with vanilla JS</app-task>
      </app-lane>

      <app-lane title="✅ Done">
        <app-task>Drink coffee 🍵</app-task>
        <app-task>Stretch 🏃</app-task>
        <app-task>Wake up 🌞</app-task>
      </app-lane>
    </app-board>

    <template name="app-board">
      <form class="flex h-full gap-4 p-4" name="board">
        <slot></slot>
      </form>
    </template>

    <template name="app-lane">
      <div
        class="relative flex flex-col min-w-[var(--lane-width)] border rounded w-[var(--lane-width)] bg-slate-100 px-3 shadow-inner overflow-y-auto"
      >
        <button
          type="button"
          class="absolute px-3 py-1 border-transparent rounded-full top-2 right-1 hover:bg-white hover:border-slate-500"
          title="Delete"
        >
          ×
        </button>
        {{title}}
        <slot></slot>
      </div>
    </template>

    <template name="app-task">
      <slot></slot>
    </template>

    <footer
      class="fixed bottom-0 px-2 py-1 text-center text-white bg-purple-600 rounded-t"
      style="
        left: calc(50% - 200px);
        right: calc(50% - 200px);
        font-variant: small-caps;
      "
    >
      made with 💻 by
      <a
        class="mx-1 font-bold"
        href="https://twitter.com/vdsabev"
        target="_blank"
      >
        @vdsabev
      </a>
    </footer>

    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const templates = document.querySelectorAll('template[name]');
        templates.forEach((template) => {
          customElements.define(
            template.getAttribute('name'),
            class extends HTMLElement {
              constructor() {
                super();
                this.style.display = 'contents'; // Prevent the custom element from affecting styling
                this.appendChild(template.content.cloneNode(true));
              }
            }
          );
        });
      });
    </script>
  </body>
</html>
